{"version":3,"sources":["redux/contacts/contacts-actions.js","redux/contacts/contacts-reducer.js","redux/auth/auth-slice.js","redux/store.js","components/userMenu/userMenu.js","components/navigation/Navigation.js","redux/contacts/contacts-selectors.js","redux/contacts/contacts-operations.js","components/spiner.js","components/form/form.jsx","components/filter/filter.jsx","components/contactItem/contactItem.jsx","components/contacts/contactList.jsx","components/Phonebook/Phonebook.js","components/PrivateRoute.js","components/PublicRoute.js","App.js","index.js","redux/auth/auth-operations.js","redux/auth/auth-selectors.js","components/form/form.module.css","components/navigation/Navigation.module.css","components/contactItem/contactItem.module.css","components/userMenu/userMenu.module.css","components/filter/filter.module.css","components/contacts/contacts.module.css","components/Phonebook/Phonebook.module.css"],"names":["fetchContactsRequest","createAction","fetchContactsSucces","fetchContactsError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","contactsFilter","items","createReducer","state","action","payload","filter","contact","id","loading","adding","deleting","error","combineReducers","authSlice","createSlice","name","initialState","user","email","token","isLoggedIn","isRefrshing","extraReducers","authOperations","register","fulfilled","logIn","logOut","fetchCurrentUser","pending","rejected","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","contactsPersistConfig","key","storage","whitelist","store","configureStore","reducer","auth","persistReducer","authReducer","contacts","contactsReducer","persistor","persistStore","UserMenu","useSelector","authSelectors","getUserName","dispatch","useDispatch","className","css","userMenu","userWelcome","Provider","value","style","verticalAlign","size","icon","userName","type","userBtn","onClick","Navigation","getIsLoggedIn","navigation","container","exact","to","link","activeClassName","activeLink","linkText","getContacts","getFilter","filtredContacts","allContacts","lowFilter","toLowerCase","includes","getIsLoading","getIsAdding","contactsOperations","fetchContacts","a","axios","get","data","message","addContact","description","post","then","catch","deleteContact","contactId","delete","spin","keyframes","Spinner","CgSpinner","defaultProps","Form","useState","setName","number","setNumber","isAdding","onChange","e","currentTarget","reset","onSubmit","preventDefault","find","cont","toast","success","form","labelField","label","pattern","title","required","input","formBtn","disabled","Filter","filterLabel","event","filterInput","ContactItem","contactItem","marker","contactName","contactNumber","contactBtn","ContactList","contactsList","map","Phonebook","isLoading","useEffect","phonebook","lengs","PrivateRoute","children","routeProps","PublicRoute","restricted","props","shouldRedirect","HomeView","lazy","RegisterView","LoginView","App","isRefreshing","getIsRefrshing","console","log","fallback","path","position","reverseOrder","ReactDOM","render","StrictMode","document","getElementById","defaults","baseURL","headers","common","Authorization","createAsyncThunk","requisites","window","alert","_","thunkAPI","getState","persistedToken","rejectWithValue","module","exports"],"mappings":"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","file":"static/js/main.256641d1.chunk.js","sourcesContent":["import { createAction } from \"@reduxjs/toolkit\";\n\nexport const fetchContactsRequest = createAction(\n  \"contacts/fetchContactsRequest\"\n);\nexport const fetchContactsSucces = createAction(\"contacts/fetchContactsSucces\");\nexport const fetchContactsError = createAction(\"contacts/fetchContactsError\");\n\nexport const addContactRequest = createAction(\"contacts/addContactRequest\");\nexport const addContactSuccess = createAction(\"contacts/addContactSuccess\");\nexport const addContactError = createAction(\"contacts/addContactError\");\n\nexport const deleteContactRequest = createAction(\n  \"contacts/deleteContactRequest\"\n);\nexport const deleteContactSuccess = createAction(\n  \"contacts/deleteContactSuccess\"\n);\nexport const deleteContactError = createAction(\"contacts/deleteContactError\");\n\nexport const contactsFilter = createAction(\"contacts/filter\");\n","import { combineReducers } from \"redux\";\nimport { createReducer } from \"@reduxjs/toolkit\";\n// import { v4 as uuidv4 } from 'uuid';\nimport {\n  fetchContactsRequest,\n  fetchContactsSucces,\n  fetchContactsError,\n  addContactRequest,\n  addContactSuccess,\n  addContactError,\n  deleteContactRequest,\n  deleteContactSuccess,\n  deleteContactError,\n  contactsFilter,\n} from \"./contacts-actions\";\n\nconst items = createReducer([], {\n  [fetchContactsSucces]: (state, action) => action.payload,\n  [addContactSuccess]: (state, action) => [action.payload, ...state],\n  [deleteContactSuccess]: (state, action) =>\n    state.filter((contact) => contact.id !== action.payload),\n});\n\nconst loading = createReducer(false, {\n  [fetchContactsRequest]: () => true,\n  [fetchContactsSucces]: () => false,\n  [fetchContactsError]: () => false,\n  [addContactRequest]: () => false,\n  [addContactSuccess]: () => false,\n  [addContactError]: () => false,\n  [deleteContactRequest]: () => false,\n  [deleteContactSuccess]: () => false,\n  [deleteContactError]: () => false,\n});\n\nconst adding = createReducer(false, {\n  [fetchContactsRequest]: () => false,\n  [fetchContactsSucces]: () => false,\n  [fetchContactsError]: () => false,\n  [addContactRequest]: () => true,\n  [addContactSuccess]: () => false,\n  [addContactError]: () => false,\n  [deleteContactRequest]: () => false,\n  [deleteContactSuccess]: () => false,\n  [deleteContactError]: () => false,\n});\n\nconst deleting = createReducer(false, {\n  [fetchContactsRequest]: () => false,\n  [fetchContactsSucces]: () => false,\n  [fetchContactsError]: () => false,\n  [addContactRequest]: () => false,\n  [addContactSuccess]: () => false,\n  [addContactError]: () => false,\n  [deleteContactRequest]: () => true,\n  [deleteContactSuccess]: () => false,\n  [deleteContactError]: () => false,\n});\n\nconst filter = createReducer(\"\", {\n  [contactsFilter]: (state, action) => action.payload,\n});\n\nconst error = createReducer(null, {});\n\nexport default combineReducers({\n  items,\n  loading,\n  adding,\n  deleting,\n  filter,\n  error,\n});\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport authOperations from \"./auth-operations\";\n\nconst initialState = {\n  user: { name: null, email: null },\n  token: null,\n  isLoggedIn: false,\n  isRefrshing: false,\n};\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  extraReducers: {\n    [authOperations.register.fulfilled](state, action) {\n      if (action.payload) {\n        state.user = action.payload.user;\n        state.token = action.payload.token;\n        state.isLoggedIn = true;\n      }\n    },\n    [authOperations.logIn.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n    },\n    [authOperations.logOut.fulfilled](state, action) {\n      state.user = { name: null, email: null };\n      state.token = null;\n      state.isLoggedIn = false;\n    },\n    [authOperations.fetchCurrentUser.pending](state) {\n      state.isRefrshing = true;\n    },\n    [authOperations.fetchCurrentUser.fulfilled](state, action) {\n      state.user = action.payload;\n      state.isLoggedIn = true;\n      state.isRefrshing = false;\n    },\n    [authOperations.fetchCurrentUser.rejected](state) {\n      state.isRefrshing = false;\n    },\n  },\n});\n\nexport default authSlice.reducer;\n","import logger from \"redux-logger\";\nimport { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from \"redux-persist\";\nimport storage from \"redux-persist/lib/storage\";\nimport contactsReducer from \"./contacts/contacts-reducer\";\nimport authReducer from \"./auth/auth-slice\";\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n  logger,\n];\n\nconst contactsPersistConfig = {\n  key: \"auth\",\n  storage,\n  whitelist: [\"token\"],\n};\nexport const store = configureStore({\n  reducer: {\n    auth: persistReducer(contactsPersistConfig, authReducer),\n    contacts: contactsReducer,\n  },\n  middleware,\n  // devTools: process.env.NODE_ENV === 'development',\n});\n\nexport const persistor = persistStore(store);\n","import { useDispatch, useSelector } from \"react-redux\";\nimport { FaWeebly } from \"react-icons/fa\";\nimport { IconContext } from \"react-icons\";\nimport authSelectors from \"../../redux/auth/auth-selectors\";\nimport authOperations from \"../../redux/auth/auth-operations\";\nimport css from \"./userMenu.module.css\";\n\nexport default function UserMenu() {\n  const name = useSelector(authSelectors.getUserName);\n  const dispatch = useDispatch();\n  return (\n    <div className={css.userMenu}>\n      <span className={css.userWelcome}>\n        <IconContext.Provider\n          value={{\n            style: { verticalAlign: \"middle\" },\n            size: 22,\n          }}\n        >\n          <FaWeebly className={css.icon} />\n        </IconContext.Provider>\n        elcome, <span className={css.userName}>{name}</span>\n      </span>\n      <button\n        type=\"button\"\n        className={css.userBtn}\n        onClick={() => dispatch(authOperations.logOut())}\n      >\n        Log out\n      </button>\n    </div>\n  );\n}\n","import { NavLink } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport authSelectors from \"../../redux/auth/auth-selectors\";\nimport UserMenu from \"../userMenu/userMenu\";\nimport css from \"./Navigation.module.css\";\n\nexport const Navigation = () => {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <nav className={css.navigation}>\n      <div className={css.container}>\n        <div>\n          <NavLink\n            exact\n            to=\"/\"\n            className={css.link}\n            activeClassName={css.activeLink}\n          >\n            <span className={css.linkText}>Home</span>\n          </NavLink>\n          <NavLink\n            to=\"/contacts\"\n            className={css.link}\n            activeClassName={css.activeLink}\n          >\n            Phonebook\n          </NavLink>\n        </div>\n\n        <div>{isLoggedIn && <UserMenu />}</div>\n      </div>\n    </nav>\n  );\n};\n","export const getContacts = (state) => state.contacts.items;\nexport const getFilter = (state) => state.contacts.filter;\n\nexport const filtredContacts = (state) => {\n  const allContacts = getContacts(state);\n  const filter = getFilter(state);\n  const lowFilter = filter.toLowerCase();\n\n  return allContacts.filter((contact) =>\n    contact.name.toLowerCase().includes(lowFilter)\n  );\n};\nexport const getIsLoading = (state) => state.contacts.loading;\nexport const getIsAdding = (state) => state.contacts.adding;\nexport const getIsDeleting = (state) => state.contacts.deleting;\n","import axios from \"axios\";\nimport {\n  fetchContactsRequest,\n  fetchContactsSucces,\n  fetchContactsError,\n  addContactRequest,\n  addContactSuccess,\n  addContactError,\n  deleteContactRequest,\n  deleteContactSuccess,\n  deleteContactError,\n} from \"./contacts-actions\";\n\nconst fetchContacts = () => async (dispatch) => {\n  dispatch(fetchContactsRequest());\n  try {\n    const { data } = await axios.get(\"/contacts\");\n    dispatch(fetchContactsSucces(data));\n  } catch (error) {\n    dispatch(fetchContactsError(error.message));\n  }\n};\n\nconst addContact = (description) => (dispatch) => {\n  dispatch(addContactRequest());\n  axios\n    .post(\"/contacts\", description)\n    .then(({ data }) => dispatch(addContactSuccess(data)))\n    .catch((error) => dispatch(addContactError(error.message)));\n};\n\nconst deleteContact = (contactId) => (dispatch) => {\n  dispatch(deleteContactRequest());\n  axios\n    .delete(`/contacts/${contactId}`)\n    .then(() => dispatch(deleteContactSuccess(contactId)))\n    .catch((error) => dispatch(deleteContactError(error.message)));\n};\n\nconst contactsOperations = { fetchContacts, addContact, deleteContact };\n\nexport default contactsOperations;\n","import styled from \"@emotion/styled/macro\";\nimport { keyframes } from \"@emotion/react\";\nimport { CgSpinner } from \"react-icons/cg\";\n\nconst spin = keyframes`\n0% {\n  transform: rotate(0deg);\n}\n100% {\n  transform: rotate(1turn);\n}\n`;\n\nexport const Spinner = styled(CgSpinner)`\n  animation: ${spin} 0.85s linear infinite;\n`;\n\nSpinner.defaultProps = {\n  size: 40,\n};\n","import { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport toast from \"react-hot-toast\";\nimport {\n  getContacts,\n  getIsAdding,\n} from \"../../redux/contacts/contacts-selectors\";\nimport contactsOperations from \"../../redux/contacts/contacts-operations\";\nimport { Spinner } from \"../spiner\";\nimport css from \"./form.module.css\";\n\nexport default function Form() {\n  const [name, setName] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n  const state = { name, number };\n\n  const contacts = useSelector(getContacts);\n  const isAdding = useSelector(getIsAdding);\n\n  const dispatch = useDispatch();\n\n  const onChange = (e) => {\n    switch (e.currentTarget.name) {\n      case \"name\":\n        setName(e.currentTarget.value);\n        break;\n      case \"number\":\n        setNumber(e.currentTarget.value);\n        break;\n      default:\n        return;\n    }\n  };\n\n  const onFormSubmit = (e) => {\n    e.preventDefault();\n    if (\n      contacts.find((cont) => cont.name.toLowerCase() === name.toLowerCase())\n    ) {\n      return toast.error(`Name '${name}' is already in contacts`);\n    }\n    dispatch(contactsOperations.addContact(state));\n\n    reset();\n    toast.success(`Contact '${name}' added!`);\n  };\n\n  const reset = () => {\n    setName(\"\");\n    setNumber(\"\");\n  };\n\n  return (\n    <>\n      <form onSubmit={onFormSubmit} className={css.form}>\n        <label className={css.labelField}>\n          <span className={css.label}>Name</span>\n          <input\n            type=\"text\"\n            name=\"name\"\n            value={name}\n            pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n            title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n            required\n            onChange={onChange}\n            className={css.input}\n          />\n        </label>\n        <label className={css.labelField}>\n          <span className={css.label}>Number</span>\n          <input\n            type=\"tel\"\n            name=\"number\"\n            value={number}\n            pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n            title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\n            required\n            onChange={onChange}\n            className={css.input}\n          />\n        </label>\n        <button type=\"submit\" className={css.formBtn} disabled={isAdding}>\n          Add contact{isAdding && <Spinner size={17} />}\n        </button>\n      </form>\n    </>\n  );\n}\n","import { useSelector, useDispatch } from 'react-redux';\nimport { getFilter } from '../../redux/contacts/contacts-selectors';\nimport { contactsFilter } from '../../redux/contacts/contacts-actions';\nimport css from './filter.module.css';\n\nexport default function Filter() {\n  const dispatch = useDispatch();\n  const value = useSelector(getFilter);\n  const onChange = event => {\n    dispatch(contactsFilter(event.currentTarget.value));\n  };\n  return (\n    <label className={css.filterLabel}>\n      Find contacts by name\n      <input\n        type=\"text\"\n        name=\"name\"\n        value={value}\n        onChange={onChange}\n        className={css.filterInput}\n      />\n    </label>\n  );\n}\n","import toast from \"react-hot-toast\";\nimport { useDispatch } from \"react-redux\";\nimport contactsOperations from \"../../redux/contacts/contacts-operations\";\nimport css from \"./contactItem.module.css\";\n\nexport default function ContactItem({ id, name, number }) {\n  const dispatch = useDispatch();\n  const onDelete = () => {\n    dispatch(contactsOperations.deleteContact(id));\n    toast.success(`Contact '${name} deleted'`);\n  };\n  return (\n    <>\n      <li key={id} className={css.contactItem}>\n        <div className={css.contact}>\n          <span className={css.marker}></span>\n          <span className={css.contactName}>{name}:</span>\n          <span className={css.contactNumber}>{number}</span>\n        </div>\n        <button type=\"button\" onClick={onDelete} className={css.contactBtn}>\n          Delete\n        </button>\n      </li>\n    </>\n  );\n}\n","import { useSelector } from \"react-redux\";\nimport { filtredContacts } from \"../../redux/contacts/contacts-selectors\";\nimport ContactItem from \"../contactItem/contactItem\";\nimport css from \"./contacts.module.css\";\n\nexport default function ContactList() {\n  const contacts = useSelector(filtredContacts);\n  return (\n    <ul className={css.contactsList}>\n      {contacts.map(({ id, name, number }) => (\n        <ContactItem key={id} id={id} name={name} number={number} />\n      ))}\n    </ul>\n  );\n}\n","import { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  getIsLoading,\n  getContacts,\n} from \"../../redux/contacts/contacts-selectors\";\nimport contactsOperations from \"../../redux/contacts/contacts-operations\";\nimport Form from \"../form/form\";\nimport Filter from \"../filter/filter\";\nimport ContactList from \"../contacts/contactList\";\nimport { Spinner } from \"../spiner\";\nimport css from \"./Phonebook.module.css\";\n\nexport const Phonebook = () => {\n  const dispatch = useDispatch();\n  const contacts = useSelector(getContacts);\n  const isLoading = useSelector(getIsLoading);\n\n  useEffect(() => dispatch(contactsOperations.fetchContacts()), [dispatch]);\n\n  return (\n    <div className={css.phonebook}>\n      <h1 className=\"title\">Phonebook</h1>\n      <Form />\n      <h2 className=\"title\">Contacts</h2>\n      {contacts && contacts.lengs !== 0 && <Filter />}\n      {isLoading && <Spinner />}\n      {contacts && <ContactList />}\n    </div>\n  );\n};\n","import { useSelector } from \"react-redux\";\nimport { Redirect, Route } from \"react-router\";\nimport authSelectors from \"../redux/auth/auth-selectors\";\n\nexport default function PrivateRoute({ children, ...routeProps }) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn ? children : <Redirect to=\"/login\" />}\n    </Route>\n  );\n}\n","import { Redirect, Route } from \"react-router\";\nimport { useSelector } from \"react-redux\";\nimport authSelectors from \"../redux/auth/auth-selectors\";\n\nexport default function PublicRoute({\n  children,\n  restricted = false,\n  ...props\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  const shouldRedirect = isLoggedIn && restricted;\n  return (\n    <Route {...props}>\n      {shouldRedirect ? <Redirect to=\"/contacts\" /> : children}\n    </Route>\n  );\n}\n","import { lazy, Suspense, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Switch } from \"react-router-dom\";\nimport { Toaster } from \"react-hot-toast\";\nimport { Navigation } from \"./components/navigation/Navigation\";\nimport { Phonebook } from \"./components/Phonebook/Phonebook\";\nimport authOperations from \"./redux/auth/auth-operations\";\nimport authSelectors from \"./redux/auth/auth-selectors\";\nimport PrivateRoute from \"./components/PrivateRoute\";\nimport PublicRoute from \"./components/PublicRoute\";\n\nconst HomeView = lazy(() =>\n  import(\"./views/HomeView/HomeView\" /* webpackChunkName: \"home-view\" */)\n);\nconst RegisterView = lazy(() =>\n  import(\n    \"./views/Register/RegisterView\" /* webpackChunkName: \"register-view\" */\n  )\n);\nconst LoginView = lazy(() =>\n  import(\"./views/Login/LoginView\" /* webpackChunkName: \"login-view\" */)\n);\n\nexport const App = () => {\n  const dispatch = useDispatch();\n  const isRefreshing = useSelector(authSelectors.getIsRefrshing);\n  console.log(\"app: \", isRefreshing);\n\n  useEffect(() => dispatch(authOperations.fetchCurrentUser()), [dispatch]);\n  return (\n    !isRefreshing && (\n      <div>\n        <Navigation />\n        <Suspense fallback={<h1>Loading...</h1>}>\n          <Switch>\n            <PublicRoute path=\"/\" exact>\n              <HomeView />\n            </PublicRoute>\n            <PrivateRoute path=\"/contacts\">\n              <Phonebook />\n            </PrivateRoute>\n            <PublicRoute path=\"/register\" restricted>\n              <RegisterView />\n            </PublicRoute>\n            <PublicRoute path=\"/login\" restricted>\n              <LoginView />\n            </PublicRoute>\n          </Switch>\n        </Suspense>\n        <Toaster position=\"top-center\" reverseOrder={false} />\n      </div>\n    )\n  );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport { store, persistor } from \"./redux/store\";\nimport { App } from \"./App\";\nimport \"./index.css\";\n\n// ReactDOM.render(\n//   <React.StrictMode>\n//     <Provider store={store.contactsStore}>\n//       <PersistGate loading={<h1>Loading..</h1>} persistor={store.persistor}>\n//         <App />\n//       </PersistGate>\n//     </Provider>\n//   </React.StrictMode>,\n//   document.getElementById(\"root\")\n// );\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={<h1>Loading..</h1>} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","import axios from \"axios\";\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport toast from \"react-hot-toast\";\n\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = \"\";\n  },\n};\nconst register = createAsyncThunk(\"auth/register\", async (requisites) => {\n  try {\n    const { data } = await axios.post(\"/users/signup\", requisites);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    toast.error(\"This user is already registered\");\n\n    // window.alert('This user is already registered');\n    return;\n  }\n});\n\nconst logIn = createAsyncThunk(\"auth/login\", async (requisites) => {\n  try {\n    const { data } = await axios.post(\"/users/login\", requisites);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    console.log(error);\n    toast.error(\"Wrong email or password\");\n    return window.alert(\"Wrong email or password\");\n  }\n});\n\nconst logOut = createAsyncThunk(\"auth/logout\", async () => {\n  try {\n    await axios.post(\"/users/logout\");\n    token.unset();\n  } catch (error) {\n    console.log(error);\n  }\n});\n\nconst fetchCurrentUser = createAsyncThunk(\n  \"auth/refresh\",\n  async (_, thunkAPI) => {\n    const state = thunkAPI.getState();\n    const persistedToken = state.auth.token;\n\n    if (persistedToken === null) {\n      return thunkAPI.rejectWithValue();\n    }\n    token.set(persistedToken);\n    try {\n      const { data } = await axios.get(\"/users/current\");\n      return data;\n    } catch (error) {}\n  }\n);\n\nconst authOperations = {\n  register,\n  logIn,\n  logOut,\n  fetchCurrentUser,\n};\n\nexport default authOperations;\n","const getIsLoggedIn = (state) => state.auth.isLoggedIn;\nconst getUserName = (state) => state.auth.user.name;\nconst getIsRefrshing = (state) => state.auth.isRefrshing;\n\nconst authSelectors = {\n  getIsLoggedIn,\n  getUserName,\n  getIsRefrshing,\n};\n\nexport default authSelectors;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"form_form__1Ljzh\",\"labelField\":\"form_labelField__2H5He\",\"label\":\"form_label__2CZws\",\"input\":\"form_input__kPN_j\",\"formBtn\":\"form_formBtn__bGnBn\",\"container\":\"form_container__1Vx9T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navigation\":\"Navigation_navigation__3XPoX\",\"container\":\"Navigation_container__3Ssg0\",\"link\":\"Navigation_link__1LLZS\",\"activeLink\":\"Navigation_activeLink__2IYFt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contactItem\":\"contactItem_contactItem__15v1Z\",\"contact\":\"contactItem_contact__1PTDo\",\"marker\":\"contactItem_marker__2mL4B\",\"contactName\":\"contactItem_contactName__1r_4U\",\"contactNumber\":\"contactItem_contactNumber__2HDbh\",\"contactBtn\":\"contactItem_contactBtn__2niSk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userMenu\":\"userMenu_userMenu__10OZa\",\"userWelcome\":\"userMenu_userWelcome__3oV76\",\"userName\":\"userMenu_userName__3ObF6\",\"userBtn\":\"userMenu_userBtn__2v4Pp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filterLabel\":\"filter_filterLabel__1GXeY\",\"filterInput\":\"filter_filterInput__3up4A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contactsList\":\"contacts_contactsList__3oLdY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"phonebook\":\"Phonebook_phonebook__3Qzrx\"};"],"sourceRoot":""}